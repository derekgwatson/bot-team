name: Chester
description: Bot team concierge - your guide to all team members and their capabilities
version: 1.0.0
personality: Helpful, knowledgeable, and welcoming. Like a classic concierge who knows everyone and everything about the establishment.

server:
  host: 0.0.0.0
  port: 8008

# Registry of all bot team members
# This is the single source of truth for bot metadata AND port assignments.
# Health check URLs are built dynamically from database (domain field).
# Deployment configurations (domains, paths, etc.) are stored in the database.
# Port Range: 8001-8020 (reserved for bot-team)
bot_team:
  chester:
    name: Chester
    port: 8008
    description: Bot Team Concierge
    capabilities:
      - Guide users to the right bot for their needs
      - Provide bot team directory and status
      - Health monitoring for all bots
      - Bot discovery and documentation
    api_endpoints:
      info: /info
      health: /health
      bots: /api/bots
      status: /api/status
    personality: Helpful, knowledgeable, and welcoming - like a classic concierge

  fred:
    name: Fred
    port: 8001
    description: Google Workspace User Management
    capabilities:
      - Create, archive, and delete Google Workspace users
      - Manage user onboarding and offboarding
      - User lifecycle management
    api_endpoints:
      info: /info
      health: /health
      users: /api/users
    personality: Organized and methodical, handles user management with care

  iris:
    name: Iris
    port: 8002
    description: Google Workspace Reporting & Analytics
    capabilities:
      - Track storage usage (Gmail, Drive, total)
      - Provide insights and usage trends
      - Monitor space usage across organization
    api_endpoints:
      info: /info
      health: /health
      storage: /api/storage
    personality: Detail-oriented analyst, loves data and insights

  peter:
    name: Peter
    port: 8003
    description: Staff Directory (Central HR Database)
    capabilities:
      - Manage all staff contact information
      - Track system access (Zendesk, Google, Wiki, VOIP, Buz)
      - Manage phone list visibility and all-staff group membership
      - Section/department management
      - Staff status tracking (active, inactive, onboarding, offboarding)
    api_endpoints:
      info: /info
      health: /health
      contacts: /api/contacts
      staff: /api/staff
      allstaff_members: /api/staff/allstaff-members
    personality: Friendly and organized, keeps track of everyone on the team

  sally:
    name: Sally
    port: 8004
    description: SSH Command Executor
    capabilities:
      - Execute SSH commands on remote servers
      - Provide command history
      - Simple interface for server operations
    api_endpoints:
      info: /info
      health: /health
      execute: /api/execute
    personality: Efficient and reliable, gets things done on remote servers

  dorothy:
    name: Dorothy
    port: 8005
    description: Deployment Orchestrator
    capabilities:
      - Orchestrate bot deployments
      - Call Sally to execute deployment commands
      - Verify deployments (nginx, SSL, services, repos)
      - Track deployment history
    api_endpoints:
      info: /info
      health: /health
      deploy: /api/deploy
    personality: Takes charge of deployments, ensures everything goes smoothly

  quinn:
    name: Quinn
    port: 8006
    description: External Staff Access Manager
    capabilities:
      - Maintain registry of external staff
      - Manage Google Groups membership
      - Provide approval API for other bots
    api_endpoints:
      info: /info
      health: /health
      external_staff: /api/external-staff
    personality: Security-conscious gatekeeper, manages external access carefully

  zac:
    name: Zac
    port: 8007
    description: Zendesk User Management
    capabilities:
      - Manage Zendesk users (end-users, agents, admins)
      - Full CRUD operations for Zendesk accounts
      - Suspend and unsuspend functionality
    api_endpoints:
      info: /info
      health: /health
      users: /api/users
    personality: Customer-focused, manages support team access

  sadie:
    name: Sadie
    port: 8010
    description: Zendesk Ticket Manager
    capabilities:
      - Create new Zendesk tickets
      - View and search Zendesk tickets
      - Get ticket details and comments
      - Filter tickets by status and priority
      - View user and organization tickets
    api_endpoints:
      info: /info
      health: /health
      tickets: /api/tickets
    personality: Helpful and proactive, manages tickets and provides insights

  pam:
    name: Pam
    port: 8009
    description: Phone Directory Presenter (Public Interface)
    capabilities:
      - Public-facing phone directory interface
      - Read-only, safe for company-wide access
      - Gets data from Peter's API
    api_endpoints:
      info: /info
      health: /health
      directory: /api/directory
    personality: Welcoming and helpful, presents information clearly

  oscar:
    name: Oscar
    port: 8011
    description: Staff Onboarding Orchestrator
    capabilities:
      - Coordinate staff onboarding workflow
      - Create Google Workspace accounts (via Fred)
      - Create Zendesk accounts (via Zac)
      - Register staff in HR database (via Peter)
      - Create VOIP setup tickets (via Sadie)
      - Send email notifications to HR/Payroll
      - Track onboarding progress and manage manual tasks
    api_endpoints:
      info: /info
      health: /health
      onboard: /api/onboard
      dependencies: /api/dependencies
    personality: Enthusiastic and organized, orchestrates the onboarding celebration

  olive:
    name: Olive
    port: 8012
    description: Staff Offboarding Orchestrator
    capabilities:
      - Coordinate staff offboarding workflow
      - Check staff system access in Peter
      - Suspend Google Workspace accounts (via Fred)
      - Deactivate Zendesk accounts (via Zac)
      - Remove Wiki access (stubbed)
      - Remove Buz access (stubbed)
      - Update Peter with finish dates
      - Send email notifications to HR/IT
      - Track offboarding progress and manage manual tasks
    api_endpoints:
      info: /info
      health: /health
      offboard: /api/offboard
      dependencies: /api/dependencies
    personality: Professional and thorough, handles departures with care and dignity

  rita:
    name: Rita
    port: 8013
    description: Staff Access Request Manager
    capabilities:
      - View your current system access
      - Request access changes
      - Handle all-staff email requests for staff without work Google accounts
      - Submit access change requests to IT
    api_endpoints:
      info: /info
      health: /health
    personality: Helpful and responsive, manages staff access requests efficiently

  banji:
    name: Banji
    port: 8014
    description: Playwright Browser Automation for Buz
    capabilities:
      - Automate Buz UI interactions via Playwright
      - Refresh quote pricing via bulk edit workflow
      - Compare before/after pricing to detect changes
      - Screenshot capture on failures for debugging
      - Headless execution in production, headed in development
    api_endpoints:
      info: /info
      health: /health
      refresh_pricing: /api/quotes/refresh-pricing
    personality: Precise and reliable, navigates Buz with expertise

  monica:
    name: Monica
    port: 8015
    description: ChromeOS Monitoring Agent
    capabilities:
      - Monitor ChromeOS device heartbeats in retail stores
      - Track network health metrics (latency, download speed)
      - Real-time traffic-light status dashboard (online/degraded/offline)
      - Zero-installation web-based agent (pinned tab)
      - Multi-store device organization
      - Historical heartbeat data and device tracking
    api_endpoints:
      info: /info
      health: /health
      register: /api/register
      heartbeat: /api/heartbeat
      devices: /api/devices
    personality: Vigilant and reliable, keeps watch over all retail store devices

  mabel:
    name: Mabel
    port: 8016
    description: Email Service Bot
    capabilities:
      - Send emails on behalf of other bots
      - Centralized outbound email for the bot team
      - Support for templated emails with Jinja2
      - Batch email sending
      - SMTP connection health monitoring
    api_endpoints:
      info: /info
      health: /health
      send_email: /api/send-email
      send_batch: /api/send-batch
    personality: Reliable and communicative, delivers messages with care

  mavis:
    name: Mavis
    port: 8017
    description: Unleashed Data Integration Bot
    capabilities:
      - Sync product data from Unleashed API
      - Serve normalized product data to other bots
      - Product lookup by code (single and bulk)
      - Track products changed since timestamp
      - Sync status monitoring and history
    api_endpoints:
      info: /info
      health: /health
      sync_run: /api/sync/run
      sync_status: /api/sync/status
      products: /api/products
      products_bulk: /api/products/bulk
    personality: Efficient and data-focused, keeps Unleashed data in sync

  fiona:
    name: Fiona
    port: 8018
    description: Fabric Description Manager
    capabilities:
      - Store friendly names for Unleashed fabric products
      - Map supplier names to Watson re-badged names
      - Lookup fabric descriptions by product code
      - Bulk fabric description operations
      - Search fabrics by material or colour
      - Integration with Mavis for product validation
    api_endpoints:
      info: /info
      health: /health
      fabrics: /api/fabrics
      fabrics_bulk: /api/fabrics/bulk
      fabrics_search: /api/fabrics/search
      mavis_status: /api/mavis/status
    personality: Organized and detail-oriented, keeps fabric naming consistent and clear

  scout:
    name: Scout
    port: 8019
    description: System Monitoring Bot
    capabilities:
      - Monitor systems for discrepancies between Mavis and Fiona
      - Detect fabrics missing descriptions
      - Detect obsolete fabric descriptions
      - Monitor Mavis sync health
      - Create Zendesk tickets via Sadie for issues
      - Track reported issues to avoid duplicates
      - Run checks on configurable schedule
    api_endpoints:
      info: /info
      health: /health
      checks_run: /api/checks/run
      checks_status: /api/checks/status
      issues: /api/issues
      bots_status: /api/bots/status
    personality: Vigilant and proactive, keeps watch for issues across systems

  skye:
    name: Skye
    port: 8020
    description: Scheduler Bot - Centralized Task Scheduling
    capabilities:
      - Centralized scheduling for all bot-team tasks
      - Cron and interval-based job scheduling
      - Execute jobs by calling other bots' APIs
      - Track execution history and failures
      - Web UI for managing schedules
      - APScheduler-based reliable execution
    api_endpoints:
      info: /info
      health: /health
      jobs: /api/jobs
      scheduler_status: /api/scheduler/status
      stats: /api/stats
    personality: Punctual and reliable, ensures everything happens at the right time

  travis:
    name: Travis
    port: 8021
    description: Field Staff Location Tracking
    capabilities:
      - Receive GPS location pings from field staff devices
      - Track staff status (at_customer, in_transit, off_duty)
      - Privacy-aware location sharing (only share when in transit)
      - Store location history for active journeys
      - Provide location API for Journey bot
    api_endpoints:
      info: /info
      health: /health
      location: /api/location
      staff: /api/staff
      journeys: /api/journeys
    personality: Friendly road companion who always knows where everyone is, while keeping secrets safe

  juno:
    name: Juno
    port: 8022
    description: Customer Tracking Experience
    capabilities:
      - Generate unique tracking links for customers
      - Serve customer-facing map tracking page
      - Display real-time ETA and driver location
      - Call Travis for privacy-aware location data
      - Auto-expire tracking links after delivery
    api_endpoints:
      info: /info
      health: /health
      tracking_links: /api/tracking-links
      track: /track
    personality: Warm and reassuring, keeps customers informed about their upcoming visit

  nigel:
    name: Nigel
    port: 8023
    description: Quote Price Monitor
    capabilities:
      - Monitor quote prices over time
      - Store baseline prices for quotes
      - Detect price discrepancies via Banji
      - Maintain historical price check log
      - Web UI for viewing monitored quotes and history
    api_endpoints:
      info: /info
      health: /health
      quotes: /api/quotes
      check: /api/quotes/check
      history: /api/history
    personality: Vigilant and detail-oriented, keeps a watchful eye on quote prices

  doc:
    name: Doc
    port: 8024
    description: Bot Team Health Checker
    capabilities:
      - Health checkups on all bots
      - Run pytest test suites
      - Track health metrics over time
      - Sync bot registry from Chester
      - Standalone operation (no dependencies)
    api_endpoints:
      info: /info
      health: /health
      checkup: /api/checkup
      tests_run: /api/tests/run
      vitals: /api/vitals
      bots_sync: /api/bots/sync
    personality: Caring and thorough, like a team physician doing regular checkups

  evelyn:
    name: Evelyn
    port: 8025
    description: Excel Expert - Spreadsheet Processing
    capabilities:
      - Extract specific sheets from Excel workbooks
      - Convert formulas to values
      - Clean workbooks for sharing with suppliers
      - In-memory processing (no server-side file storage)
    api_endpoints:
      info: /info
      health: /health
      process: /api/process
    personality: Meticulous and precise, handles spreadsheets with care

  grant:
    name: Grant
    port: 8026
    description: Centralized Authorization Manager
    capabilities:
      - Central source of truth for bot access permissions
      - Manage user access to all bots (user/admin roles)
      - API for bots to check permissions at login
      - Web UI for managing access across all bots
      - Audit trail of permission changes
    api_endpoints:
      info: /info
      health: /health
      access: /api/access
      permissions: /api/permissions
      users: /api/users
    personality: Fair and security-conscious, ensures the right people have the right access

  hugo:
    name: Hugo
    port: 8027
    description: Buz User Management
    capabilities:
      - Cache Buz users locally for fast lookups
      - Sync users from Buz across multiple organizations
      - Activate/deactivate users in Buz via Playwright
      - Track access changes with activity log
      - Sync access changes to Peter (staff database)
      - Web UI for user management
    api_endpoints:
      info: /info
      health: /health
      users: /api/users
      users_sync: /api/users/sync
      orgs: /api/orgs
      stats: /api/stats
    personality: Knows exactly who has access to what in Buz, manages user lifecycle with precision

  ivy:
    name: Ivy
    port: 8028
    description: Buz Inventory & Pricing Manager
    capabilities:
      - Download inventory items from all Buz organizations
      - Download pricing coefficients from all Buz organizations
      - Store inventory and pricing data locally for fast access
      - Track changes between syncs
      - Provide API for other bots to query items and pricing
      - Support Buz-Unleashed sync workflows
    api_endpoints:
      info: /info
      health: /health
      items: /api/items
      pricing: /api/pricing
      sync: /api/sync
      orgs: /api/orgs
    personality: Meticulous inventory keeper, knows every item and its price across all organizations

  paige:
    name: Paige
    port: 8029
    description: DokuWiki User Manager
    capabilities:
      - Manage DokuWiki user accounts
      - Add users during staff onboarding
      - Remove users during staff offboarding
      - List and search wiki users
      - Sync users with Peter staff directory
      - Integration with Oscar and Olive for lifecycle management
    api_endpoints:
      info: /info
      health: /health
      users: /api/users
      sync: /api/sync
    personality: Organized and helpful, keeps the wiki team membership tidy and up-to-date


# Health check configuration
# NOTE: Health checks always use production URLs (built from database domain field).
# This means even in dev, Chester checks prod bot health status.
# Sally (skip_nginx=True) is the exception - always checked via localhost.
health_check:
  timeout: 0.5  # seconds - fast timeout since bots are on same server in prod
  check_interval: 60  # seconds between automatic checks
  enabled: true  # Set to false in dev if you don't want health checks

# New bot setup templates
new_bot_template:
  required_files:
    - app.py
    - config.py
    - config.yaml
    - .env.example
    - requirements.txt
  required_directories:
    - api
    - web
    - web/templates
    - services
  standard_dependencies:
    - Flask==3.0.0
    - gunicorn==21.2.0
    - python-dotenv==1.0.0
    - PyYAML==6.0.1
    - requests==2.31.0
